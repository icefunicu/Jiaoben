# 邮件广告清理助手 (Email Ad Cleaner)

一个智能化的油猴脚本，致力于为您的网页版邮箱提供清爽的阅读体验。它采用 "规则引擎 + AI 大模型" 双重过滤机制，能精准识别并清理各类营销推广、订阅通知和垃圾广告邮件。

## 🌟 核心功能

- **双引擎识别**:
  - **规则引擎**: 基于关键词（标题/发件人）、域名黑名单、退订链接检测等这一系列高效率规则。
  - **AI 智能分析**: (可选) 集成智谱 AI (GLM-4-Flash) 模型，通过语义理解精准判断难以界定的软广。
- **多平台支持**: 完美适配 Gmail, Outlook, QQ 邮箱 (及微信邮箱), 网易邮箱 (163/126)。
- **高度可配置**: 提供可视化设置面板，支持白名单、黑名单、自定义关键词及权重调整。
- **安全隐私**: 仅在本地或通过您配置的 API Key 进行处理，代码开源透明。

## 📥 安装指南

1. 安装浏览器用户脚本管理器：
   - [Tampermonkey](https://www.tampermonkey.net/) (推荐)
   - [Violentmonkey](https://violentmonkey.top/)
2. [**点击此处安装脚本**](email-ad-cleaner.user.js) 或者将 `email-ad-cleaner.user.js` 拖入浏览器扩展管理页面。

## ⚙️ 使用说明

安装后刷新邮箱页面，右下角会出现 **"清理助手"** 的悬浮图标。

- **一键清理**: 点击图标即可开始扫描当前页面的广告邮件。
- **设置面板**: 点击图标旁的齿轮按钮可进入详细设置：
  - **白名单/黑名单**: 管理误杀或漏杀的邮箱地址。
  - **自定义规则**: 添加特定的标题关键词。
  - **AI 配置**: 填入智谱 API Key 开启 AI 增强模式。

## 🛠️ 配置选项

| 选项 | 描述 |
|------|------|
| **阈值 (Threshold)** | 判定为广告的分数阈值 (0-100)，默认 60。 |
| **夜间模式** | 跟随系统或强制开启/关闭。 |
| **预览模式** | 开启后仅标记广告而不删除，方便核对。 |
| **AI 模式** | 可选纯规则、AI 辅助或纯 AI 模式。 |

## 🔗 依赖/从属

本项目依赖于 Tampermonkey 环境运行。
